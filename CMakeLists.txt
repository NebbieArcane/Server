# Root cmake
cmake_minimum_required (VERSION 2.6)
project (myst)
set (CMAKE_USE_RELATIVE_PATHS true)
add_subdirectory(src)
if (NOT EXISTS src/config.hpp.in)
	message(FATAL_ERROR "Se Ã¨ la prima volta che compili, devi lanciare ./build.sh")
endif()
enable_language(CXX)
include(UsePkgConfig)
# The version number.
set (myst_VERSION_MAJOR 3)
set (myst_VERSION_MINOR 1)
include(ProcessorCount)
ProcessorCount(N)
if(NOT N EQUAL 0)
  set(CTEST_BUILD_FLAGS -j${N})
  set(ctest_test_args ${ctest_test_args} PARALLEL_LEVEL ${N})
endif()
find_library(MYSQL mysqld)
find_library(BOOST boost)
#target_link_libraries(myst  mysqld)
#target_compile_options(myst PUBLIC -m32)
#set(CMAKE_VERBOSE_MAKEFILE ON) #Uncomment to see actual c++ invocations
